var allTranslations = {
  "en": {
    "About the team": "About the team",
    "Add Icon": "Add Icon",
    "Add Page": "Add Page",
    "Allow:": "Allow:", // writer can have these options
    "Ask to Join": "Ask to Join",
    "Author": "Author",
    "background image (one page)": "background image (one page)",
    "Book": "Book",
    "bottom of page": "bottom of page",
    "Cancel": "Cancel",
    "Cover": "Cover",
    "Create": "Create",
    "Download": "Download",
    "Drop in an Image": "Drop in an Image",
    "Edit": "Edit",
    "Email": "Email",
    "en": "en", // language for page (html lang="en")
    "first_page_message": "This is your first page!\nStart writing and add new pages.",
    "Fonts and Letters": "Fonts and Letters",
    "full page": "full page",
    "Guide": "Guide",
    "Images": "Images",
    "Join team": "Join team",
    "Language": "Language",
    "Layout": "Layout",
    "Lead new team": "Lead new team",
    "leader": "leader",
    "Log In": "Log In",
    "Log Out": "Log Out",
    "ltr": "ltr", // left-to-right or right-to-left?
    "Make into PDF": "Make into PDF",
    "middle of page": "middle of page",
    "My Books": "My Books",
    "Name": "Name",
    "New Book": "New Book",
    "New Icon": "New Icon",
    "new_page_message": "You made a new page. Write this page, and keep this story going!",
    "Next": "Next",
    "Online": "Online",
    "(Optional)": "(Optional)",
    "Original": "Original",
    "Page 1": "Page 1",
    "page_num": "Page %{page}", // like Page 1, Page 2
    "Paper": "Paper", // choose which paper to print on
    "Paper Size": "Paper Size",
    "Password": "Password",
    "Picture": "Picture",
    "Save": "Save",
    "Save Word List": "Save Word List",
    "Sentences": "Sentences",
    "Sign Up": "Sign Up",
    "span both pages": "span both pages",
    "Start Writing": "Start Writing",
    "Team": "Team",
    "Team name": "Team name",
    "Text": "Text",
    "Title": "Title",
    "Title and Author": "Title and Author",
    "top of page": "top of page",
    "Type first page": "Type first page",
    "Upload": "Upload",
    "View": "View",
    "Welcome to iLoominate": "Welcome to iLoominate",
    "What is the story?": "What is the story?",
    "Word List": "Word List",
    "Writing": "Writing", // Writing menu
    "You are signed in.": "You are signed in."
  },
  "es": {
    "About the team": "El equipo",
    "Add Icon": "Añadir Imagen",
    "Add Page": "Añadir Página",
    "Allow:": "Permitir:", // writer can have these options
    "Ask to Join": "Ask to Join",
    "Author": "Autor",
    "background image (one page)": "imagen de fondo (una página)",
    "Book": "Libro",
    "bottom of page": "inferior de la página",
    "Cancel": "Cancelar",
    "Cover": "La Portada",
    "Create": "Crear",
    "Download": "Descargar",
    "Drop in an Image": "Coloca una Imagen",
    "Edit": "Editar",
    "Email": "Email",
    "en": "es",
    "first_page_message": "¡Su primera página!\nEmpieza a escribir y añadir páginas nuevas.",
    "Fonts and Letters": "Fuentes y Letras",
    "full page": "la página entera",
    "Guide": "Guía",
    "Images": "Imagenes",
    "Join team": "Join team",
    "Language": "Lengua",
    "Layout": "Diseño",
    "Lead new team": "Lead new team",
    "leader": "líder",
    "Log In": "Iniciar Sesión",
    "Log Out": "Desconectar",
    "ltr": "ltr",
    "Make into PDF": "Crear PDF",
    "middle of page": "medio de la página",
    "My Books": "Mis Libros",
    "Name": "Nombre",
    "New Book": "Libro Nuevo",
    "New Icon": "Imagen Nuevo",
    "new_page_message": "Creas una página nueva.\n¡Escribe y continua su historia!",
    "Next": "Siguiente",
    "Online": "En línea",
    "(Optional)": "(Opcional)",
    "Original": "Original",
    "Page 1": "Página 1",
    "page_num": "Página %{page}", // like Page 1, Page 2
    "Paper": "Papel",
    "Paper Size": "Tamaño de Papel",
    "Password": "Contraseña",
    "Picture": "Pictura",
    "Save": "Guardar",
    "Save Word List": "Guardar Lista de Palabras",
    "Sentences": "Frases",
    "Sign Up": "Registrar",
    "span both pages": "abarcar ambas páginas",
    "Start Writing": "Empezar Escribir",
    "Team": "Equipo",
    "Team name": "Nombre del equipo",
    "Text": "Texto",
    "Title": "Título",
    "Title and Author": "Título y Autor",
    "top of page": "superior de la página",
    "Type first page": "Escriba la primera página",
    "Upload": "Subir",
    "View": "Ver",
    "Welcome to iLoominate": "Bienvenidos a iLoominate",
    "What is the story?": "¿Qué es su historia?",
    "Word List": "Lista de Palabras",
    "Writing": "Escribiendo",
    "You are signed in.": "Ha iniciado su sesión."
  },
  "ht": {
    "About the team": "About the team",
    "Add Icon": "Ajoute Icon",
    "Add Page": "Ajoute Paj",
    "Allow:": "Allow:", // writer can have these options
    "Ask to Join": "Ask to Join",
    "Author": "Author",
    "background image (one page)": "background image (one page)",
    "Book": "Liv",
    "bottom of page": "bottom of page",
    "Cancel": "Cancel",
    "Cover": "Cover",
    "Create": "Create",
    "Download": "Download",
    "Drop in an Image": "Mete yon imaj",
    "Edit": "Edit",
    "en": "ht",
    "Email": "Email",
    "first_page_message": "This is your first page!\nStart writing and add new pages.",
    "Fonts and Letters": "Fonts and Letters",
    "full page": "full page",
    "Guide": "Guide",
    "Images": "Images",
    "Join team": "Join team",
    "Language": "Language",
    "Layout": "Layout",
    "Lead new team": "Lead new team",
    "leader": "leader",
    "Log In": "Log In",
    "Log Out": "Log Out",
    "ltr": "ltr",
    "Make into PDF": "Fè PDF",
    "middle of page": "middle of page",
    "My Books": "Mon Liv",
    "Name": "Name",
    "New Book": "New Book",
    "New Icon": "New Icon",
    "new_page_message": "You made a new page. Write this page, and keep this story going!",
    "Next": "Next",
    "Online": "Online",
    "(Optional)": "(Optional)",
    "Original": "Original",
    "Page 1": "Paj 1",
    "page_num": "Paj %{page}", // like Page 1, Page 2
    "Paper": "Paper", // choose which paper to print on
    "Paper Size": "Paper Size",
    "Password": "Password",
    "Picture": "Picture",
    "Save": "Save",
    "Save Word List": "Save Word List",
    "Sentences": "Sentences",
    "Sign Up": "Sign Up",
    "span both pages": "span both pages",
    "Start Writing": "Start Writing",
    "Team": "Team",
    "Team name": "Team name",
    "Text": "Text",
    "Title": "Title",
    "Title and Author": "Title and Author",
    "top of page": "top of page",
    "Type first page": "Tipe premye paj la",
    "Upload": "Upload",
    "View": "View",
    "Welcome to iLoominate": "Welcome to iLoominate",
    "What is the story?": "Kisa istwa a ye?",
    "Word List": "Word List",
    "Writing": "Writing", // writing menu
    "You are signed in.": "You are signed in."
  },
  /* not actual translations below - still proof of concept */
  "ar": {
    "en": "ar",
    "Enable JavaScript!": "تفعيل جافا سكريبت",
    "Drop in an Image": "الصفحة_الرئيسية",
    "Type first page": "الصفحة_الرئيسية",
    "Make into PDF": "الصفحة_الرئيسية",
    "ltr": "rtl"
  },
  "ne": {
    "en": "ne",
    "ltr": "ltr"
  }
};

// helper function to return standard or requested translations from server
var getTranslations = function (req, res) {

  // detect language on server side, return translations
  var preferredLocale;
  if (typeof req === "string") {
    preferredLocale = req;
  } else {
    preferredLocale = req.query.language || req.cookies.language || (req.headers['accept-language'] || "").split(",")[0];
    res.cookie('language', preferredLocale);
  }

  if (!allTranslations[preferredLocale]) {
    // check if there is a match for the root locale (es_uy -> es)
    preferredLocale = preferredLocale.split("_")[0];
    if (!allTranslations[preferredLocale]) {
      // default (en)
      preferredLocale = "en";
    }
  }
  return JSON.stringify(allTranslations[preferredLocale]);
};


try {
  // use exports if this is used as a Node.js module
  exports.getTranslations = getTranslations;
} catch (e) {

}
